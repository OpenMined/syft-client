<div
  class="syftpm-widget"
  style="background: {{ bg_color }}; border: 1px solid {{ border_color }}; border-radius: 5px; padding: 15px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;"
>
  <h3 style="margin: 0 0 10px 0; color: {{ text_color }};">⚙️ {{ name }}</h3>
  <table style="width: 100%; border-collapse: collapse">
    <tr>
      <td
        style="padding: 5px 10px 5px 0; color: {{ label_color }}; vertical-align: top;"
      >
        Status:
      </td>
      <td style="padding: 5px 0; color: {{ status_color }}; font-weight: bold;">
        {{ status_icon }} {{ status }}
      </td>
    </tr>
    <tr>
      <td
        style="padding: 5px 10px 5px 0; color: {{ label_color }}; vertical-align: top;"
      >
        PID:
      </td>
      <td style="padding: 5px 0">
        <code
          style="background: {{ code_bg }}; padding: 2px 4px; border-radius: 3px; color: {{ text_color }};"
          >{{ pid or '-' }}</code
        >
      </td>
    </tr>
    <tr>
      <td
        style="padding: 5px 10px 5px 0; color: {{ label_color }}; vertical-align: top;"
      >
        Uptime:
      </td>
      <td style="padding: 5px 0; color: {{ text_color }};">{{ uptime }}</td>
    </tr>
  </table>

  <div
    style="
      margin-top: 10px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    "
  >
    <div
      style="padding: 8px; background: {{ log_bg }}; border-radius: 3px; border: 1px solid {{ border_color }};"
    >
      <div
        style="color: {{ label_color }}; font-size: 11px; margin-bottom: 5px;"
      >
        Recent logs:
      </div>
      <div
        id="stdout-{{ instance_id }}"
        style="font-size: 11px; color: {{ text_color }}; height: 100px; overflow-y: auto;"
      >
        <em style="color: #888">Loading...</em>
      </div>
    </div>
    <div
      style="padding: 8px; background: {{ error_bg }}; border-radius: 3px; border: 1px solid {{ border_color }};"
    >
      <div
        style="color: {{ label_color }}; font-size: 11px; margin-bottom: 5px;"
      >
        Recent errors:
      </div>
      <div
        id="stderr-{{ instance_id }}"
        style="font-size: 11px; height: 100px; overflow-y: auto"
      >
        <em style="color: #888">Loading...</em>
      </div>
    </div>
  </div>

  <script>
    {
      {
        log_polling_script | safe;
      }
    }
  </script>

  <div
    style="margin-top: 10px; padding-top: 10px; border-top: 1px solid {{ border_color }}; font-size: 12px; color: {{ label_color }};"
  >
    Try:
    <code
      style="background: {{ code_bg }}; padding: 2px 4px; border-radius: 3px;"
      >handle.stdout.tail(20)</code
    >,
    <code
      style="background: {{ code_bg }}; padding: 2px 4px; border-radius: 3px;"
      >handle.stderr.tail(20)</code
    >,
    <code
      style="background: {{ code_bg }}; padding: 2px 4px; border-radius: 3px;"
      >handle.terminate()</code
    >
  </div>
</div>
